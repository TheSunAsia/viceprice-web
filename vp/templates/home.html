<!DOCTYPE html>
<html>
<head>
<meta charset=utf-8 />
<title> VicePrice </title>
<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
	<!-- css -->
	<link rel="stylesheet" type="text/css" href="../static/css/component.css" />
	<link href='https://api.mapbox.com/mapbox.js/v2.3.0/mapbox.css' rel='stylesheet' />
	<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Montserrat">
	<!-- JS -->
	<script src='https://code.jquery.com/jquery-2.2.1.min.js'></script>
	<script src='https://api.mapbox.com/mapbox.js/v2.3.0/mapbox.js'></script>
	<script src='../static/js/cluster.js'></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
		<style>
			body {
				font-family: 'Montserrat';
				margin: 0;
				padding: 0;
			}
			.map {
				position: absolute;
				top: 0;
				bottom: 0;
				width: 100%;
			}

			.pin {
			  width: 25px;
			  height: 25px;
			  border-radius: 50% 50% 50% 10%;
			  border:solid white 3.5px;
			  background: #89849b;
			  position: absolute;
			  transform: rotateY(30deg);
			  left: 50%;
			  top: 50%;
			  margin: -20px 0 0 -20px;
			  }
		</style>
	</head>
	<body>
		<div class='grid'>
			<div id='map' class='map' style='position:fixed;'></div>

			<div class='left-side-bar'>
				<div class='search-div'>
					<p>
						SEARCH
					</p>
					<form method="get" action="/search" id="search">
						<input name="q" type="text" size="40" />
					</form>
				</div>
				<div class='hours-div'>
					<p>
						HOURS
					</p>
				</div>
				<div class='location-div'>
					<p>
						LOCATION:
					</p>

				</div>
				 <div class='venues-div'>
                <p> VENUES: </p>  
            </div>
                <input type="checkbox" id="dive" checked>
                <label class="tiles" for="dive" style="margin-left:10%;"><i class="v-icon"></i>
                <span class="label">Dive Bar</span></label>

                <input type="checkbox" id="gay" checked>
                <label class="tiles" for="gay" style="margin-left:6%;"><i class="v-icon"></i>
                <span class="label">Gay Bar</span></label>

                <input type="checkbox" id="hotel" checked>
                <label class="tiles" for="hotel" style="margin-left:10%;"><i class="v-icon"></i>
                <span class="label">Hotel</span></label>

                <input type="checkbox" id="general" checked>
                <label class="tiles" for="general" style="margin-left:6%;"><i class="v-icon"></i>
                <span class="label">General</span></label>
                
                <input type="checkbox" id="fancy" checked>
                <label class="tiles" for="fancy" style="margin-left:10%;"><i class="v-icon"></i>
                <span class="label">Fancy</span></label>

                <input type="checkbox" id="sports" checked>
                <label class="tiles" for="sports" style="margin-left:6%;"><i class="v-icon"></i>
                <span class="label">Sports</span></label>
                
                <input type="checkbox" id="pub" checked>
                <label class="tiles" for="pub" style="margin-left:10%;"><i class="v-icon"></i>
                <span class="label">Pub</span></label>
                
                <input type="checkbox" id="nightclub" checked>
                <label class="tiles" for="nightclub"style="margin-left:6%;"><i class="v-icon"></i>
                <span class="label">Nightclub</span></label>
                
                <input type="checkbox" id="piano" value="Hi" checked>
                <label class="tiles" for="piano" style="margin-left:10%;"><i class="v-icon"></i>
                <span class="label">Piano</span></label>
                
                <input type="checkbox" id="hookah" checked>
                <label class="tiles" for="hookah" style="margin-left:6%;"><i class="v-icon"></i>
                <span class="label">Hookah</span></label>
				
				<div class="about-contact-us">
					<a href="url">About</a>
					<a href="url">Contact Us</a>
					<a href="url">Owner?</a>
				</div>
			</div>

			<div class='right-side-bar'>
				<img src="../static/img/sushi.jpg" width="300" height="170px"/>
				<div class="bar-info-div">
					<h1> Hanate Sushi Bar</h1>
					<h3> Facny Bar | </h3><h4>3:00 PM to 5:30 PM </h4>
				</div>
				<div class="specials-div">
					<h2> Happy Hour Specials </h2>
					<p>
						$5 Drink Specials
					</p>
					<ul>
						<li>
							Beer
						</li>
						<ul>
							<li>
								$2 off all drafts
							</li>
						</ul>
						<li>
							Wine
						</li>
						<ul>
							<li>
								$5 House Wines
							</li>
						</ul>
						<li>
							Cocktails &amp; Sprits
						</li>
						<ul>
							<li>
								$1 off all rails
							</li>
							<li>
								$2 off all cocktails
							</li>
							<li>
								$9 Boiler Maker
							</li>
							<li>
								$1 off all rails
							</li>
							<li>
								$2 off all cocktails
							</li>
							<li>
								$1 off all rails
							</li>
							<li>
								$2 off all cocktails
							</li>
						</ul>
					</ul>
				</div>
				<div class="reviews-div">
					<div style="overflow:hidden;">
						<h2> Reviews </h2>
						<img src="../static/img/facebook_icon.png" style="display:block;float:right;width:20%; height:20%; padding-bottom:5%"/>
					</div>
					<ul>
						<li><img src="../static/img/icon-profile.png" style="vertical-align:middle; padding-right:5%;"/> it's like a Moroccan oasis in the middle of ....
						</li>
						<hr class="review-hr">
						<li>
							<img src="../static/img/icon-profile.png" style="vertical-align:middle; padding-right:5%;"/> try getting a table by window ...
						</li>
						<hr class="review-hr">
						<li>
							<img src="../static/img/icon-profile.png" style="vertical-align:middle; padding-right:5%;"/> seared scallops along ..
						</li>
						<hr class="review-hr">
						<li>
							<img src="../static/img/icon-profile.png" style="vertical-align:middle; padding-right:5%;"/> seared scallops along ..
						</li>
						<hr class="review-hr">
					</ul>
					<a href="url"> Read more ... </a>
				</div>
			</div>
		</div>

		<script>
			$(".tiles").hover(function() {
                    $(this).addClass('hoverBg');
                },function() {
                    $(this).removeClass('hoverBg');
                }); 

    $("input:checkbox").click(function() {
                    var ischecked= $(this).is(':checked');
                    if(!ischecked)
                       $("label[for='"+$(this).attr('id')+"']").removeClass('hoverBg');
                }); 

			/*****MapBox*****/
			L.mapbox.accessToken = 'pk.eyJ1Ijoic2FsbWFuYWVlIiwiYSI6ImNpa2ZsdXdweTAwMXl0d20yMWVlY3g4a24ifQ._0c3U-A8Lv6C7Sm3ceeiHw';

			var southWest = L.latLng(38.820993, -76.875833), northEast = L.latLng(39.004460, -77.158084), bounds = L.latLngBounds(southWest, northEast);

			var map = L.mapbox.map('map');

			L.mapbox.styleLayer('mapbox://styles/mapbox/dark-v8').addTo(map);

			map.setView([38.907557, -77.009014], 13);
			map.setMaxBounds(bounds);

			/*************************/
			var clusterGroup = new L.MarkerClusterGroup({polygonOptions: {
            fillColor: 'white',
            color: 'white',
            weight: 2,
            opacity: 1,
            fillOpacity: 0.3
	        }
	     	});//end of cluster

			$.get("../fetch/", function(data) {
					geoJsonData = data.json;
					var goeJsonlayer = L.geoJson(geoJsonData, {
						onEachFeature : function(feature, layer) {
							console.log(feature);
							layer.setIcon(L.divIcon(feature.properties.icon));
							var content = '<div class="tooltip"><h1>' + feature.properties.name + '<\/h1>' + '<p>' + feature.properties.phone + '<br \/>' + feature.properties.website + '<\/p> <\/div>';
							layer.bindPopup(content);
						}
					});
					clusterGroup.addLayer(goeJsonlayer);
 					map.addLayer(clusterGroup);

				});				
				
		</script>
	</body>
</html>