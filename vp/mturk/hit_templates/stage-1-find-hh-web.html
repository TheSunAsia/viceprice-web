<!-- JQuery 1.11.2 -->
<script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
<script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
<!-- Bootstrap v3.0.3 -->
<link href="https://s3.amazonaws.com/mturk-public/bs30/css/bootstrap.min.css" property="stylesheet" rel="stylesheet" />
<style type="text/css">
    .container {
        font-family: Tahoma;
        font-size: 14px;
        line-height: 28px;
    }
    p {
        line-height: 1.4;
    }
    .bold-text {
        font-weight: bold;
    }
    .inline {
        display: inline;
    }
    .indent-1 {
        padding-left: 20px;
    }
    .indent-2 {
        padding-left: 40px;
    }
    .radio.indent-1 {
        padding-left: 40px;
    }
    .question {
        margin-bottom: 10px;
    }
    a.expand-collapse-link {
        float: right;
        color: white;
    }
    .example-container {
        margin-bottom: 20px;
    }
    .hh-info-example-table {
        width: 800px;
        padding: 20px;
        font-family: Verdana, Geneva, sans-serif;
        font-size: 11.7px;
        color: grey;
    }
    .hh-info-example-table td {
        border: 1px solid grey;
        text-align: left;
        vertical-align: top;
        padding: 10px;
    }
    .hh-info-table {
        width: 800px;
        padding: 20px;
        font-family: Verdana, Geneva, sans-serif;
        font-size: 11.7px;
    }
    .hh-info-table td {
        border: 1px solid black;
        text-align: left;
        vertical-align: top;
        padding: 10px;
    }
    .hh-info-table td input {
        width: 100px;
    }
    .narrow-column {
        width: 120px;
    }
    .wide-column {
        width: 440px;
    }
    textarea {
        resize: none;
        overflow: hidden;
        width: 420px;
        max-height: 1000px;
    }
</style>
<section class="container" id="Survey">
    <div class="panel panel-primary">
        <div class="panel-heading">
            <div class="bold-text inline">Instructions</div>
            <a class="expand-collapse-link expanded">[Hide]</a>
        </div>
        <div class="panel-body">
            <div class="collapsible">
            	<div>
                    <span>You are looking for Happy Hour Specials for the business </span>
                    <span class="bold-text">${name}</span>
                    <span> in Washington DC.</span>
                </div>
            	<div class="bold-text">
                    Happy Hour: When beer/wine/liquor are sold at a lower price at a specific time or day.
                </div>
            	<div>Use the example below as a guide.</div>
                <div>
                    <img style="padding: 1em 2em;" src="http://i.imgur.com/OVMfH8W.png" width="700px" />
                </div>
            </div>
        </div>
    </div>

    <p>
        <span>First, </span>
        <a class="web-search-link text-primary" target="_blank">click to do a Google Search for "site:${url} Happy Hours"</a><!--
        --><span>. Look through relevant results for happy hour info at ${name}.</span>
    </p>

    <p>
        <span>If you do not see results, go directly to </span>
        <a class="text-primary" href="${url}" target="_blank">${url}</a>
        <span> and look around for Happy Hour information. Normally it is located in </span>
        <span class="bold-text">Menus</span><!--
        --><span>, </span>
        <span class="bold-text">Beverages</span><!--
        --><span>, </span>
        <span class="bold-text">Specials</span><!--
        --><span>, </span>
        <span class="bold-text">Drinks</span><!--
        --><span>, or </span>
        <span class="bold-text">Deals</span>.
    </p>

    <div class="question">
        <div>
            <span class="bold-text">
                Did you find any happy hour(s) listed with time and description?
            </span>
            <span>
                 &nbsp; [If you only see time but no description, answer No]
            <span>
        </div>

        <div class="radio indent-1">
            <label>
                <input name="happy-hour-found" type="radio" value="yes" />
                <span>Yes</span>
            </label>
        </div>

        <div class="radio indent-1">
            <label>
                <input name="happy-hour-found" type="radio" value="no" />
                <span>No</span>
            </label>
        </div>

        <div class="radio indent-1">
            <label>
                <input name="happy-hour-found" type="radio" value="wrong-website" />
                <span>This is the wrong website for ${name}.</span>
            </label>
        </div>
    </div>

    <div class="question show-if-hh-found">
        <div class="bold-text">
            Copy the time period and full description of the happy hours. DO NOT INCLUDE:
        </div>
        <ol>
            <li>
                <span class="bold-text">
                    Ingredients</span><!--
                --><span>. We only want the name of the drink, not what is in the drink.
                </span>
            </li>
            <li>
                <span class="bold-text">
                    Food specials</span><!--
                --><span>. We only want alcoholic drinks, not food
                </span>
            </li>
            <li>
                <span class="bold-text">
                    Drink origin/location</span><!--
                --><span>. We do not care where a beer/wine came from.
                </span>
            </li>
        </ol>
    </div>
    <div class="question show-if-hh-found">
        <div class="example-container">
            <table class="hh-info-example-table">
            	<tbody>
            		<tr>
            			<td class="narrow-column"><strong>Day</strong></td>
            			<td class="narrow-column"><strong>Happy Hour Start Time</strong></td>
            			<td class="narrow-column"><strong>Happy Hour End Time</strong></td>
            			<td class="wide-column"><strong>Happy Hour Description</strong></td>
            		</tr>
            		<tr>
            			<td>Monday</td>
            			<td>03:00 PM</td>
            			<td>07:00 PM</td>
            			<td>$3 Drafts of Stoney&rsquo;s Amber, Shocktop<br />
            			$3 Narragansett Tallboys<br />
            			$4 Goose Island IPA<br />
            			$5 Specialty Cocktail<br />
            			$4 Rail&nbsp;cocktails<br />
            			$4 House Red or White Wine</td>
            		</tr>
            	</tbody>
            </table>
        </div>

        <div>
            <table class="hh-info-table">
            	<tbody>
            		<tr>
            			<td class="narrow-column"><strong>Day</strong></td>
            			<td class="narrow-column"><strong>Happy Hour Start Time</strong></td>
            			<td class="narrow-column"><strong>Happy Hour End Time</strong></td>
            			<td class="wide-column"><strong>Happy Hour Description</strong></td>
            		</tr>
            		<tr>
            			<td>Monday</td>
            			<td><input name="monday-start-time" type="text" placeholder="00:00 AM"/></td>
            			<td><input name="monday-end-time" type="text" placeholder="00:00 AM"/></td>
            			<td><textarea name="monday-description" onkeyup="auto_grow(this)"></textarea></td>
            		</tr>
            		<tr>
            			<td>Tuesday</td>
            			<td><input name="tuesday-start-time" type="text" placeholder="00:00 AM"/></td>
            			<td><input name="tuesday-end-time" type="text" placeholder="00:00 AM"/></td>
            			<td><textarea name="tuesday-description" onkeyup="auto_grow(this)"></textarea></td>
            		</tr>
            		<tr>
            			<td>Wednesday</td>
            			<td><input name="wednesday-start-time" type="text" placeholder="00:00 AM"/></td>
            			<td><input name="wednesday-end-time" type="text" placeholder="00:00 AM"/></td>
            			<td><textarea name="wednesday-description" onkeyup="auto_grow(this)"></textarea></td>
            		</tr>
            		<tr>
            			<td>Thursday</td>
            			<td><input name="thursday-start-time" type="text" placeholder="00:00 AM"/></td>
            			<td><input name="thursday-end-time" type="text" placeholder="00:00 AM"/></td>
            			<td><textarea name="thursday-description" onkeyup="auto_grow(this)"></textarea></td>
            		</tr>
            		<tr>
            			<td>Friday</td>
            			<td><input name="friday-start-time" type="text" placeholder="00:00 AM"/></td>
            			<td><input name="friday-end-time" type="text" placeholder="00:00 AM"/></td>
            			<td><textarea name="friday-description" onkeyup="auto_grow(this)"></textarea></td>
            		</tr>
            		<tr>
            			<td>Saturday</td>
            			<td><input name="saturday-start-time" type="text" placeholder="00:00 AM"/></td>
            			<td><input name="saturday-end-time" type="text" placeholder="00:00 AM"/></td>
            			<td><textarea name="saturday-description" onkeyup="auto_grow(this)"></textarea></td>
            		</tr>
            		<tr>
            			<td>Sunday</td>
            			<td><input name="sunday-start-time" type="text" placeholder="00:00 AM"/></td>
            			<td><input name="sunday-end-time" type="text" placeholder="00:00 AM"/></td>
            			<td><textarea name="sunday-description" onkeyup="auto_grow(this)"></textarea></td>
            		</tr>
            	</tbody>
            </table>
        </div>
    </div>

    <div class="question">
        <div class="bold-text">
            Anything we should know about?
        <div>
        <div>
            <input class="form-control" name="comments" placeholder="" type="text" />
        </div>
    </div>
    <input id="location-url" type="hidden" value="${url}"/>
</section>

<script type="text/javascript">
    // Expand and collapse instructions
    $(".expand-collapse-link").click(function() {
        if ($(this).hasClass("expanded")) {
            $(this).text("[Show]");
            $(this).removeClass("expanded");
            $(".collapsible").hide();
        } else {
            $(this).text("[Hide]");
            $(this).addClass("expanded");
            $(".collapsible").show();
        }
    });

    // Generate link for web search
    var url = $("#location-url").val().trim();
    var link = "http://www.google.com/search?q=site:" + url + "+Happy+Hours";
    $(".web-search-link").attr("href", link);

    // Expand happy hours section only if happy hours were found
    $(".show-if-hh-found").hide();
    $("input[name='happy-hour-found']").change(function() {
        if ($(this).val() == "yes") {
            $(".show-if-hh-found").show();
        } else {
            $(".show-if-hh-found").hide();
        }
    });

    // Auto-grow textareas on front end
    var auto_grow = function(element) {
        element.style.height = "5px";
        element.style.height = (element.scrollHeight) + "px";
    }
</script>
